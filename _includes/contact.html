<!-- Contact -->
{% if site.locale and site.locale != "" and site.locale != nil %}
<section class="page-section" id="{{ site.data.sitetext[site.locale].contact.section | default: "contact" }}">
  <div class="container">
    <div class="row">
      <div class="col-lg-12 text-center">
        <h2 class="section-heading text-uppercase">
          {{ site.data.sitetext[site.locale].contact.title | markdownify | default: Contact Us }}
        </h2>
        <h3 class="section-subheading text-muted">
          {{ site.data.sitetext[site.locale].contact.text | default: "" }}
        </h3>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">

        <!-- Updated Contact Form using Web3Forms -->
        <form id="contactForm"
          action="https://api.web3forms.com/submit"
          method="POST"
         

          <!-- Web3Forms Access Key -->
          <input type="hidden" name="access_key" value="d4009c23-c825-4d8f-9c8b-1096cfac6871">

          <!-- Optional: Redirect URL (can be changed or removed) -->
         <!-- <input type="hidden" name="redirect" value="https://yourwebsite.com/thank-you.html"> -->

          <!-- Optional: Email subject -->
          <input type="hidden" name="subject" value="New Message from Winni Webworks Website!">

          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <input name="name" class="form-control" id="name" type="text"
                  placeholder="{{ site.data.sitetext[site.locale].contact.name | default: "Name*" }}"
                  required="required"
                  data-validation-required-message="{{ site.data.sitetext[site.locale].contact.name-validation | default: "Please enter your name." }}">
                <p class="help-block text-danger"></p>
              </div>

              <!-- Hidden honeypot field for spam prevention -->
              <div class="form-group d-none">
                <input name="username" class="form-control" id="username" type="text" tabindex="-1" autocomplete="off">
              </div>

              <div class="form-group">
                <input name="email" class="form-control" id="email" type="email"
                  placeholder="{{ site.data.sitetext[site.locale].contact.email | default: "Email*" }}"
                  required="required"
                  data-validation-required-message="{{ site.data.sitetext[site.locale].contact.email-validation | default: "Please enter your email address." }}">
                <p class="help-block text-danger"></p>
              </div>

              <div class="form-group">
                <input name="phone" class="form-control" id="phone" type="tel"
                  placeholder="{{ site.data.sitetext[site.locale].contact.phone | default: "Phone Number*" }}"
                  required="required"
                  data-validation-required-message="{{ site.data.sitetext[site.locale].contact.phone-validation | default: "Please enter your phone number." }}">
                <p class="help-block text-danger"></p>
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <textarea name="message" class="form-control" id="message"
                  placeholder="{{ site.data.sitetext[site.locale].contact.message | default: "Message*" }}"
                  required="required"
                  data-validation-required-message="{{ site.data.sitetext[site.locale].contact.message-validation | default: "Please enter a message." }}"></textarea>
                <p class="help-block text-danger"></p>
              </div>
            </div>

            <div class="clearfix"></div>
            <div class="col-lg-12 text-center">
              <div id="form-status" class="text-success mb-3" style="display:none;"></div>
              <button id="sendMessageButton" class="btn btn-primary btn-xl text-uppercase" type="submit">
                {{ site.data.sitetext[site.locale].contact.submit | default: "Send Message" }}
              </button>
            </div>

          </div>
        </form>

      </div>
    </div>
  </div>
</section>

{% else %}
<section class="page-section" id="{{ site.data.sitetext.contact.section | default: "contact" }}">
  <div class="container">
    <div class="row">
      <div class="col-lg-12 text-center">
        <h2 class="section-heading text-uppercase">
          {{ site.data.sitetext.contact.title | markdownify | default: Contact Us }}
        </h2>
        <h3 class="section-subheading text-muted">
          {{ site.data.sitetext.contact.text | default: "" }}
        </h3>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">

        <!-- Default (non-localized) Contact Form using Web3Forms -->
        <form id="contactForm"
          action="https://api.web3forms.com/submit"
          method="POST"
          novalidate="novalidate">

          <input type="hidden" name="access_key" value="your-access-key-12345abcdef">
          <input type="hidden" name="redirect" value="https://yourwebsite.com/thank-you.html">
          <input type="hidden" name="subject" value="New Contact Message from Website">

          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <input name="name" class="form-control" id="name" type="text"
                  placeholder="{{ site.data.sitetext.contact.name | default: "Name*" }}"
                  required="required"
                  data-validation-required-message="{{ site.data.sitetext.contact.name-validation | default: "Please enter your name." }}">
              </div>

              <div class="form-group d-none">
                <input name="username" class="form-control" id="username" type="text" tabindex="-1" autocomplete="off">
              </div>

              <div class="form-group">
                <input name="email" class="form-control" id="email" type="email"
                  placeholder="{{ site.data.sitetext.contact.email | default: "Email*" }}"
                  required="required"
                  data-validation-required-message="{{ site.data.sitetext.contact.email-validation | default: "Please enter your email address." }}">
              </div>

              <div class="form-group">
                <input name="phone" class="form-control" id="phone" type="tel"
                  placeholder="{{ site.data.sitetext.contact.phone | default: "Phone Number*" }}"
                  required="required"
                  data-validation-required-message="{{ site.data.sitetext.contact.phone-validation | default: "Please enter your phone number." }}">
              </div>
            </div>

            <div class="col-md-6">
              <div class="form-group">
                <textarea name="message" class="form-control" id="message"
                  placeholder="{{ site.data.sitetext.contact.message | default: "Message*" }}"
                  required="required"
                  data-validation-required-message="{{ site.data.sitetext.contact.message-validation | default: "Please enter a message." }}"></textarea>
              </div>
            </div>

            <div class="col-lg-12 text-center">
              <div id="form-status" class="text-success mb-3" style="display:none;"></div>
              <button id="sendMessageButton" class="btn btn-primary btn-xl text-uppercase" type="submit">
                {{ site.data.sitetext.contact.submit | default: "Send Message" }}
              </button>
            </div>
          </div>
        </form>

      </div>
    </div>
  </div>
</section>
{% endif %}
<!-- End Contact -->

<!-- Success Message Script -->
<script>
  const form = document.getElementById('contactForm');
  const statusDiv = document.getElementById('form-status');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    const response = await fetch(form.action, {
      method: 'POST',
      body: new FormData(form)
    });

    const result = await response.json();

    if (result.success) {
      statusDiv.textContent = "Thank you! Your message has been sent successfully.";
      statusDiv.style.display = "block";
      statusDiv.style.color = "green";
      form.reset();
    } else {
      statusDiv.textContent = "Oops! Something went wrong. Please try again later.";
      statusDiv.style.display = "block";
      statusDiv.style.color = "red";
    }
  });
</script>
